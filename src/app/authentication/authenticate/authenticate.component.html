<div class="auth-container">
  <div class="auth-wrapper">
    <!-- Left Panel -->
    <div class="left-panel">
      <div class="left-content">
        <div class="logo-section">
          <img src="../../../assets/images/auth/lafarge_logo.png" alt="Lafarge Logo" class="brand-logo" />
        </div>
        
        <h1 class="welcome-title">IT Application Request Portal</h1>
        <p class="welcome-text">
          Empowering Lafarge's digital transformation through streamlined IT service management. 
          Submit requests, track approvals, and manage your applications efficiently.
        </p>
        
        <div class="feature-highlights">
          <div class="highlight-item">
            <mat-icon>verified</mat-icon>
            <span>Instant Requests</span>
          </div>
          <div class="highlight-item">
            <mat-icon>track_changes</mat-icon>
            <span>Real-Time Tracking</span>
          </div>
          <div class="highlight-item">
            <mat-icon>cloud_done</mat-icon>
            <span>Smart Approvals</span>
          </div>
        </div>
      </div>
      
      <!-- Decorative Circle -->
      <div class="decorative-circle"></div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel">
      <div class="form-wrapper">
        <div class="form-header">
          <h2 class="signin-title" *ngIf="loginPage">Sign In</h2>
          <h2 class="signin-title" *ngIf="!loginPage">Verify Code</h2>
          <div class="title-underline"></div>
        </div>

        <!-- Request Code Form -->
        <form [formGroup]="codeRequestForm" *ngIf="!isLoggedIn && loginPage" class="auth-form">
          <div class="input-group">
            <input 
              matInput 
              formControlName="email" 
              type="email" 
              placeholder="Enter your email address" 
              class="form-input"
              required 
            />
            <mat-error *ngIf="codeRequestForm?.get('email')?.hasError('required') && codeRequestForm?.get('email')?.touched">
              Email is required
            </mat-error>
            <mat-error *ngIf="codeRequestForm?.get('email')?.hasError('email') && codeRequestForm?.get('email')?.touched">
              Please enter a valid email
            </mat-error>
          </div>
          
          <button 
            type="submit" 
            class="submit-btn"
            [disabled]="!codeRequestForm.valid || isSubmitting" 
            (click)="getCode()">
            <span *ngIf="!isSubmitting">SEND CODE</span>
            <mat-spinner *ngIf="isSubmitting" diameter="24"></mat-spinner>
          </button>
          
          <p class="help-note">
            <mat-icon>info</mat-icon>
            Use your Lafarge corporate email address
          </p>
        </form>

        <!-- Verify Code Form -->
        <form [formGroup]="ngResetForm" *ngIf="!isLoggedIn && !loginPage" class="auth-form">
          <div class="input-group">
            <input 
              matInput 
              type="text" 
              formControlName="Code" 
              placeholder="Enter verification code" 
              maxlength="6" 
              class="form-input code-input"
            />
            <mat-error *ngIf="ngResetForm.get('Code')?.hasError('required') && ngResetForm.get('Code')?.touched">
              Code is required
            </mat-error>
          </div>
          
          <button 
            type="submit" 
            class="submit-btn" 
            (click)="verifyCode()" 
            [disabled]="!ngResetForm.valid || isSubmitting">
            <span *ngIf="!isSubmitting">VERIFY</span>
            <mat-spinner *ngIf="isSubmitting" diameter="24"></mat-spinner>
          </button>
          
          <button 
            type="button" 
            class="back-btn" 
            (click)="toggleFormBack()" 
            [disabled]="isSubmitting">
            <mat-icon>arrow_back</mat-icon>
            Back to Email
          </button>
          
          <p class="help-note">
            <mat-icon>timer</mat-icon>
            Code expires in 10 minutes
          </p>
        </form>

        <div class="support-links">
          <a href="#" class="support-link">
            <mat-icon>help_outline</mat-icon>
            Need Help?
          </a>
          <a href="#" class="support-link">
            <mat-icon>contact_support</mat-icon>
            IT Support
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
