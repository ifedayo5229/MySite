 <div class="dashboard-container">
      <div class="dashboard-header">
        <div class="header-content">
          <h1>User Dashboard</h1>
          
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions-section">
        <div class="container">
          <h2>Quick Actions</h2>
          <div class="actions-grid">
           <div class="action-card" (click)="router.navigate(['/home/create-application-request'])">
              <div class="action-icon">
                <i class="material-icons">add_circle</i>
              </div>
              <h3>New Request</h3>
              <p>Create a new application request</p>
            </div>
           <div class="action-card" (click)="router.navigate(['/home/my-requests'])">
              <div class="action-icon">
                <i class="material-icons">list_alt</i>
              </div>
              <h3>My Requests</h3>
              <p>View your submitted requests</p>
            </div>
            <div class="action-card" (click)="activeTab = 'pending-approvals'">
              <div class="action-icon">
                <i class="material-icons">pending_actions</i>
              </div>
              <h3>Pending Approvals</h3>
              <p>Review requests awaiting your approval</p>
            </div>
            <div class="action-card" (click)="activeTab = 'change-requests'">
              <div class="action-icon">
                <i class="material-icons">edit</i>
              </div>
              <h3>Change Requests</h3>
              <p>Request changes to existing applications</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Create Request Modal -->
      <!-- <div class="modal-overlay" *ngIf="showCreateForm" (click)="closeModal($event)">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="form-header">
      <h3>Create New Application Request</h3>
      <button class="close-btn" (click)="showCreateForm = false">
        <i class="material-icons">close</i>
      </button>
    </div>

    <form (ngSubmit)="createRequest()" #requestForm="ngForm" class="form-body">
      <div class="form-group">
        <label>Application Title *</label>
        <input type="text" [(ngModel)]="newRequest.title" name="title" required />
      </div>

      <div class="form-group">
        <label>Description *</label>
        <textarea rows="3" [(ngModel)]="newRequest.description" name="description" required></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Application Owner</label>
          <input type="text" [(ngModel)]="newRequest.owner" name="owner" placeholder="Enter owner name" />
        </div>
        <div class="form-group">
          <label>Category *</label>
          <select [(ngModel)]="newRequest.category" name="category" required>
            <option value="">Select Category</option>
            <option *ngFor="let category of categories" [value]="category.name">{{ category.name }}</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Department *</label>
          <select [(ngModel)]="newRequest.department" name="department" required>
            <option value="">Select Department</option>
            <option *ngFor="let dept of departments" [value]="dept.name">{{ dept.name }}</option>
          </select>
        </div>
        <div class="form-group">
          <label>Location *</label>
          <select [(ngModel)]="newRequest.location" name="location" required>
            <option value="">Select Location</option>
            <option *ngFor="let location of locations" [value]="location.name">{{ location.name }}</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label>Explanation</label>
        <textarea rows="2" [(ngModel)]="newRequest.explanation" name="explanation"></textarea>
      </div>

      <div class="form-group">
        <label>Justification</label>
        <textarea rows="2" [(ngModel)]="newRequest.justification" name="justification"></textarea>
      </div>

      <div class="form-group">
        <label>Business Impact</label>
        <textarea rows="2" [(ngModel)]="newRequest.businessImpact" name="businessImpact"></textarea>
      </div>

      <div class="form-group">
        <label>Attachments</label>
        <input type="file" (change)="onFileSelected($event)" multiple />
      </div>

      <div class="form-footer">
        <button type="button" class="btn cancel" (click)="showCreateForm = false">Cancel</button>
        <button type="submit" class="btn submit" [disabled]="loading">
          <span *ngIf="loading" class="spinner-sm"></span>
          {{ loading ? 'Creating...' : 'Create Request' }}
        </button>
      </div>
    </form>
  </div>
      </div> -->


      <!-- Main Content Tabs -->
      <div class="main-content">
        <div class="container">
          <div class="tab-navigation">
            <button class="tab-btn" [class.active]="activeTab === 'my-requests'" (click)="activeTab = 'my-requests'">
              My Requests ({{ myRequests.length }})
            </button>
            <button class="tab-btn" [class.active]="activeTab === 'pending-approvals'" (click)="activeTab = 'pending-approvals'">
              Pending Approvals ({{ pendingApprovals.length }})
            </button>
            <button class="tab-btn" [class.active]="activeTab === 'change-requests'" (click)="activeTab = 'change-requests'">
              Change Requests
            </button>
          </div>

          <!-- My Requests Tab -->
          <div *ngIf="activeTab === 'my-requests'" class="tab-content">
            <div *ngIf="myRequests.length === 0" class="empty-state">
              <i class="material-icons">inbox</i>
              <h3>No requests found</h3>
              <p>You haven't created any application requests yet.</p>
              <button class="btn-primary" (click)="showCreateForm = true">Create Your First Request</button>
            </div>
            
            <div class="applications-grid">
              <div *ngFor="let app of myRequests" class="application-card">
                <div class="card-header">
                  <div class="app-title">
                    <h3>{{ app.title }}</h3>
                    <span class="badge" [ngClass]="'badge-' + getStatusClass(app.status)">
                      {{ app.status | uppercase }}
                    </span>
                  </div>
                </div>
                
                <div class="card-body">
                  <p class="app-description">{{ app.description }}</p>
                  <div class="app-details">
                    <div class="detail-item">
                      <i class="material-icons">category</i>
                      <span>{{ app.category }}</span>
                    </div>
                    <div class="detail-item">
                      <i class="material-icons">business</i>
                      <span>{{ app.department }}</span>
                    </div>
                    <div class="detail-item">
                      <i class="material-icons">schedule</i>
                      <span class="priority-badge" [ngClass]="'priority-' + app.priority">
                        {{ app.priority | uppercase }}
                      </span>
                    </div>
                    <div class="detail-item">
                      <i class="material-icons">calendar_today</i>
                      <span>{{ app.createdAt | date:'short' }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="card-actions">
                  <button class="btn-primary btn-sm" (click)="viewApplication(app.id)">View Details</button>
                  <button *ngIf="app.status === 'submitted'" class="btn-secondary btn-sm" (click)="initiateSignOff(app.id)">
                    Start Sign-off
                  </button>
                  <button class="btn-secondary btn-sm" (click)="addComment(app.id)">Add Comment</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Pending Approvals Tab -->
          <div *ngIf="activeTab === 'pending-approvals'" class="tab-content">
            <div *ngIf="pendingApprovals.length === 0" class="empty-state">
              <i class="material-icons">check_circle_outline</i>
              <h3>No pending approvals</h3>
              <p>You don't have any requests waiting for your approval.</p>
            </div>
            
            <div class="applications-grid">
              <div *ngFor="let app of pendingApprovals" class="application-card approval-card">
                <div class="card-header">
                  <div class="app-title">
                    <h3>{{ app.title }}</h3>
                    <span class="badge badge-warning">APPROVAL REQUIRED</span>
                  </div>
                </div>
                
                <div class="card-body">
                  <p class="app-description">{{ app.description }}</p>
                  <div class="requester-info">
                    <strong>Requested by:</strong> {{ app.requestedByName }}
                  </div>
                  <div class="app-details">
                    <div class="detail-item">
                      <i class="material-icons">category</i>
                      <span>{{ app.category }}</span>
                    </div>
                    <div class="detail-item">
                      <i class="material-icons">business</i>
                      <span>{{ app.department }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="card-actions approval-actions">
                  <button class="btn-success btn-sm" (click)="approveRequest(app.id)">
                    <i class="material-icons">check</i> Approve
                  </button>
                  <button class="btn-danger btn-sm" (click)="rejectRequest(app.id)">
                    <i class="material-icons">close</i> Reject
                  </button>
                  <button class="btn-secondary btn-sm" (click)="viewApplication(app.id)">View Details</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Change Requests Tab -->
          <div *ngIf="activeTab === 'change-requests'" class="tab-content">
            <div class="section-header">
              <h3>Available Applications</h3>
              <p>Select an application to request changes</p>
            </div>
            
            <div class="applications-grid">
              <div *ngFor="let app of allApplications" class="application-card change-request-card">
                <div class="card-header">
                  <div class="app-title">
                    <h3>{{ app.title }}</h3>
                    <span class="badge" [ngClass]="'badge-' + getStatusClass(app.status)">
                     {{ app.status | uppercase }}
                    </span>
                  </div>
                </div>
                
                <div class="card-body">
                  <p class="app-description">{{ app.description }}</p>
                  <div class="app-details">
                    <div class="detail-item">
                      <i class="material-icons">person</i>
                      <span>Created by {{ app.requestedByName }}</span>
                    </div>
                    <div class="detail-item">
                      <i class="material-icons">business</i>
                      <span>{{ app.department }}</span>
                    </div>
                  </div>
                </div>
                
                <div class="card-actions">
                  <button class="btn-primary btn-sm" (click)="requestChange(app.id, app.title)">
                    Request Change
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>